package pdss5.hs.hdw;

import java.io.IOException;
import java.io.Reader;
 
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
 
public class LogTest {
	private static LogTest sqlFactory = null;
	private static SqlSessionFactory sessionFactory = null;
 
	private LogTest() {
 
	}
 
	private static LogTest getInstance() throws IOException {
		String resource = null;
		Reader reader = null;
 
		if(sqlFactory == null) {
			resource = "config/configuration.xml";
			reader = Resources.getResourceAsReader(resource);
 
			sqlFactory = new LogTest();
			sqlFactory.sessionFactory = new SqlSessionFactoryBuilder().build(reader);
		}
		return sqlFactory;
	}
 
	public static synchronized SqlSessionFactory getSessionFactory() throws IOException {
		if(sqlFactory == null) {
			getInstance();
		}
		return sessionFactory;
	}
 
	public Object clone() throws CloneNotSupportedException {
		throw new CloneNotSupportedException();
	}
}